(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[5689],{74289:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h});var s=i(94015);var a=i.n(s);var n=i(23645);var o=i.n(n);var l=o()(a());l.push([t.id,".jupyter-matplotlib {\n    width: auto;\n    height: auto;\n    flex: 1 1 auto;\n}\n\n/* Toolbar */\n\n.jupyter-matplotlib-toolbar {\n    position: absolute;\n    overflow: visible;\n    z-index: 100;\n}\n\n.jupyter-matplotlib-toolbar-fadein-fadeout {\n    transition: visibility 0.5s linear, opacity 0.5s linear;\n}\n\n.jupyter-matplotlib-button {\n    width: calc(var(--jp-widgets-inline-width-tiny) / 2 - 2px);\n    padding: 0 !important;\n}\n\n/* Figure */\n\n.jupyter-matplotlib-figure {\n    width: fit-content;\n    height: auto;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n}\n\n.jupyter-matplotlib-canvas-container {\n    overflow: auto;\n}\n\n.jupyter-matplotlib-canvas-div {\n    margin: 2px;\n    flex: 1 1 auto;\n}\n\n.jupyter-matplotlib-header {\n    width: 100%;\n    text-align: center;\n}\n\n.jupyter-matplotlib-footer {\n    width: 100%;\n    text-align: center;\n    min-height: var(--jp-widgets-inline-height);\n}\n","",{version:3,sources:["webpack://./node_modules/jupyter-matplotlib/css/mpl_widget.css"],names:[],mappings:"AAAA;IACI,WAAW;IACX,YAAY;IACZ,cAAc;AAClB;;AAEA,YAAY;;AAEZ;IACI,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;AAChB;;AAEA;IACI,uDAAuD;AAC3D;;AAEA;IACI,0DAA0D;IAC1D,qBAAqB;AACzB;;AAEA,WAAW;;AAEX;IACI,kBAAkB;IAClB,YAAY;IACZ,gBAAgB;IAChB,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,cAAc;AAClB;;AAEA;IACI,WAAW;IACX,kBAAkB;AACtB;;AAEA;IACI,WAAW;IACX,kBAAkB;IAClB,2CAA2C;AAC/C",sourcesContent:[".jupyter-matplotlib {\n    width: auto;\n    height: auto;\n    flex: 1 1 auto;\n}\n\n/* Toolbar */\n\n.jupyter-matplotlib-toolbar {\n    position: absolute;\n    overflow: visible;\n    z-index: 100;\n}\n\n.jupyter-matplotlib-toolbar-fadein-fadeout {\n    transition: visibility 0.5s linear, opacity 0.5s linear;\n}\n\n.jupyter-matplotlib-button {\n    width: calc(var(--jp-widgets-inline-width-tiny) / 2 - 2px);\n    padding: 0 !important;\n}\n\n/* Figure */\n\n.jupyter-matplotlib-figure {\n    width: fit-content;\n    height: auto;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n}\n\n.jupyter-matplotlib-canvas-container {\n    overflow: auto;\n}\n\n.jupyter-matplotlib-canvas-div {\n    margin: 2px;\n    flex: 1 1 auto;\n}\n\n.jupyter-matplotlib-header {\n    width: 100%;\n    text-align: center;\n}\n\n.jupyter-matplotlib-footer {\n    width: 100%;\n    text-align: center;\n    min-height: var(--jp-widgets-inline-height);\n}\n"],sourceRoot:""}]);const h=l},25689:(t,e,i)=>{"use strict";i.r(e);i.d(e,{MODULE_NAME:()=>r.o,MODULE_VERSION:()=>r.Y,MPLCanvasModel:()=>_,MPLCanvasView:()=>c,ToolbarModel:()=>g,ToolbarView:()=>y});var s=i(44439);var a=i(61395);function n(t,e){const i=e.getBoundingClientRect();return{x:t.clientX-i.left,y:t.clientY-i.top}}function o(t){return Object.keys(t).reduce(((e,i)=>{if(typeof t[i]!=="object"){e[i]=t[i]}return e}),{})}function l(t){const e=t.getContext("2d");if(e===null){throw"Could not create 2d context."}return e}function h(t){const e=[];if(t.ctrlKey){e.push("ctrl")}if(t.altKey){e.push("alt")}if(t.shiftKey){e.push("shift")}if(t.metaKey){e.push("meta")}return e}var r=i(98144);var d=undefined&&undefined.__awaiter||function(t,e,i,s){function a(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,n){function o(t){try{h(s.next(t))}catch(e){n(e)}}function l(t){try{h(s["throw"](t))}catch(e){n(e)}}function h(t){t.done?i(t.value):a(t.value).then(o,l)}h((s=s.apply(t,e||[])).next())}))};class _ extends a.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"MPLCanvasModel",_view_name:"MPLCanvasView",_model_module:"jupyter-matplotlib",_view_module:"jupyter-matplotlib",_model_module_version:"^"+r.Y,_view_module_version:"^"+r.Y,header_visible:true,footer_visible:true,toolbar:null,toolbar_visible:"fade-in-fade-out",toolbar_position:"horizontal",resizable:true,capture_scroll:false,pan_zoom_throttle:33,_data_url:null,_size:[0,0],_figure_label:"Figure",_message:"",_cursor:"pointer",_image_mode:"full",_rubberband_x:0,_rubberband_y:0,_rubberband_width:0,_rubberband_height:0})}initialize(t,e){super.initialize(t,e);this.offscreen_canvas=document.createElement("canvas");this.offscreen_context=l(this.offscreen_canvas);const i=this.offscreen_context;const s=i.backingStorePixelRatio||i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||1;this.requested_size=null;this.resize_requested=false;this.ratio=(window.devicePixelRatio||1)/s;this.resize_canvas();this._init_image();this.on("msg:custom",this.on_comm_message.bind(this));this.on("change:resizable",(()=>{this._for_each_view((t=>{t.update_canvas()}))}));this.on("change:_size",(()=>{this.resize_canvas();this.offscreen_context.drawImage(this.image,0,0)}));this.on("comm_live_update",this.update_disabled.bind(this));this.update_disabled();this.send_initialization_message()}get size(){return this.get("_size")}get disabled(){return!this.comm_live}update_disabled(){this.set("resizable",!this.disabled)}sync(t,e,i={}){if(i.attrs){delete i.attrs["_data_url"]}super.sync(t,e,i)}send_message(t,e={}){e["type"]=t;this.send(e,{})}send_initialization_message(){if(this.ratio!==1){this.send_message("set_dpi_ratio",{dpi_ratio:this.ratio});this.send_message("set_device_pixel_ratio",{device_pixel_ratio:this.ratio})}this.send_message("refresh");this.send_message("send_image_mode");this.send_message("initialized")}send_draw_message(){if(!this.waiting_for_image){this.waiting_for_image=true;this.send_message("draw")}}handle_save(){const t=document.createElement("a");t.href=this.offscreen_canvas.toDataURL();t.download=this.get("_figure_label")+".png";document.body.appendChild(t);t.click();document.body.removeChild(t)}handle_resize(t){this.resize_canvas();this.offscreen_context.drawImage(this.image,0,0);if(!this.resize_requested){this._for_each_view((t=>{t.resize_and_update_canvas(this.size)}))}this.send_message("refresh");this.resize_requested=false;if(this.requested_size!==null){this.resize(this.requested_size[0],this.requested_size[1]);this.requested_size=null}}resize(t,e){if(t<=5||e<=5){return}this._for_each_view((i=>{i.resize_and_update_canvas([t,e])}));if(this.resize_requested){this.requested_size=[t,e]}else{this.resize_requested=true;this.send_message("resize",{width:t,height:e})}}resize_canvas(){this.offscreen_canvas.width=this.size[0]*this.ratio;this.offscreen_canvas.height=this.size[1]*this.ratio}handle_rubberband(t){let e=t["x0"]/this.ratio;let i=(this.offscreen_canvas.height-t["y0"])/this.ratio;let s=t["x1"]/this.ratio;let a=(this.offscreen_canvas.height-t["y1"])/this.ratio;e=Math.floor(e)+.5;i=Math.floor(i)+.5;s=Math.floor(s)+.5;a=Math.floor(a)+.5;this.set("_rubberband_x",Math.min(e,s));this.set("_rubberband_y",Math.min(i,a));this.set("_rubberband_width",Math.abs(s-e));this.set("_rubberband_height",Math.abs(a-i));this.save_changes();this._for_each_view((t=>{t.update_canvas()}))}handle_draw(t){this.send_draw_message()}handle_binary(t,e){const i=window.URL||window.webkitURL;const s=new Uint8Array(ArrayBuffer.isView(e[0])?e[0].buffer:e[0]);const a=new Blob([s],{type:"image/png"});const n=i.createObjectURL(a);if(this.image.src){i.revokeObjectURL(this.image.src)}this.image.src=n;this.set("_data_url",this.offscreen_canvas.toDataURL());this.waiting_for_image=false}handle_history_buttons(t){}handle_navigate_mode(t){}on_comm_message(t,e){const i=JSON.parse(t.data);const s=i["type"];let a;try{a=this["handle_"+s].bind(this)}catch(n){console.log("No handler for the '"+s+"' message type: ",i);return}if(a){a(i,e)}}_init_image(){this.image=new Image;this.image.onload=()=>{if(this.disabled){this.offscreen_canvas.width=this.image.width;this.offscreen_canvas.height=this.image.height;this.offscreen_context.drawImage(this.image,0,0);this._for_each_view((t=>{t.canvas.width=this.image.width/this.ratio;t.canvas.height=this.image.height/this.ratio;t.canvas.style.width=t.canvas.width+"px";t.canvas.style.height=t.canvas.height+"px";t.top_canvas.width=this.image.width/this.ratio;t.top_canvas.height=this.image.height/this.ratio;t.top_canvas.style.width=t.top_canvas.width+"px";t.top_canvas.style.height=t.top_canvas.height+"px";t.canvas_div.style.width=t.canvas.width+"px";t.canvas_div.style.height=t.canvas.height+"px";t.update_canvas(true)}));return}if(this.get("_image_mode")==="full"){this.offscreen_context.clearRect(0,0,this.offscreen_canvas.width,this.offscreen_canvas.height)}this.offscreen_context.drawImage(this.image,0,0);this._for_each_view((t=>{t.update_canvas()}))};const t=this.get("_data_url");if(t!==null){this.image.src=t}}_for_each_view(t){for(const e in this.views){this.views[e].then((e=>{t(e)}))}}remove(){this.send_message("closing")}}_.serializers=Object.assign(Object.assign({},a.DOMWidgetModel.serializers),{toolbar:{deserialize:a.unpack_models}});class c extends a.DOMWidgetView{render(){return d(this,void 0,void 0,(function*(){this.resizing=false;this.resize_handle_size=20;this.el.classList.add("jupyter-matplotlib");this.figure=document.createElement("div");this.figure.classList.add("jupyter-matplotlib-figure");this.el.appendChild(this.figure);this._init_header();this._init_canvas();yield this._init_toolbar();this._init_footer();this._resize_event=this.resize_event.bind(this);this._stop_resize_event=this.stop_resize_event.bind(this);window.addEventListener("mousemove",this._resize_event);window.addEventListener("mouseup",this._stop_resize_event);this.el.addEventListener("mouseenter",(()=>{this.toolbar_view.fade_in()}));this.el.addEventListener("mouseleave",(()=>{this.toolbar_view.fade_out()}));this.model_events()}))}model_events(){this.model.on("change:header_visible",this._update_header_visible.bind(this));this.model.on("change:footer_visible",this._update_footer_visible.bind(this));this.model.on("change:toolbar_visible",this._update_toolbar_visible.bind(this));this.model.on("change:toolbar_position",this._update_toolbar_position.bind(this));this.model.on("change:_figure_label",this._update_figure_label.bind(this));this.model.on("change:_message",this._update_message.bind(this));this.model.on("change:_cursor",this._update_cursor.bind(this))}_update_header_visible(){this.header.style.display=this.model.get("header_visible")?"":"none"}_update_footer_visible(){this.footer.style.display=this.model.get("footer_visible")?"":"none"}_update_toolbar_visible(){this.toolbar_view.set_visibility(this.model.get("toolbar_visible"))}_update_toolbar_position(){this.model.get("toolbar").set("position",this.model.get("toolbar_position"))}_init_header(){this.header=document.createElement("div");this.header.classList.add("jupyter-widgets","widget-label","jupyter-matplotlib-header");this._update_header_visible();this._update_figure_label();this.figure.appendChild(this.header)}_update_figure_label(){this.header.textContent=this.model.get("_figure_label")}_init_canvas(){const t=document.createElement("div");t.classList.add("jupyter-widgets","jupyter-matplotlib-canvas-container");this.figure.appendChild(t);const e=this.canvas_div=document.createElement("div");e.style.position="relative";e.style.clear="both";e.classList.add("jupyter-widgets","jupyter-matplotlib-canvas-div");e.addEventListener("keydown",this.key_event("key_press"));e.addEventListener("keyup",this.key_event("key_release"));e.setAttribute("tabindex","0");t.appendChild(e);const i=this.canvas=document.createElement("canvas");i.style.display="block";i.style.position="absolute";i.style.left="0";i.style.top="0";i.style.zIndex="0";this.context=l(i);const a=this.top_canvas=document.createElement("canvas");a.style.display="block";a.style.position="absolute";a.style.left="0";a.style.top="0";a.style.zIndex="1";a.addEventListener("dblclick",this.mouse_event("dblclick"));a.addEventListener("mousedown",this.mouse_event("button_press"));a.addEventListener("mouseup",this.mouse_event("button_release"));a.addEventListener("mousemove",(0,s.throttle)(this.mouse_event("motion_notify"),this.model.get("pan_zoom_throttle")));a.addEventListener("mouseenter",this.mouse_event("figure_enter"));a.addEventListener("mouseleave",this.mouse_event("figure_leave"));a.addEventListener("wheel",(0,s.throttle)(this.mouse_event("scroll"),this.model.get("pan_zoom_throttle")));a.addEventListener("wheel",(t=>{if(this.model.get("capture_scroll")){t.preventDefault()}}));e.appendChild(i);e.appendChild(a);this.top_context=l(a);this.top_context.strokeStyle="rgba(0, 0, 0, 255)";this.top_canvas.addEventListener("contextmenu",(t=>{t.preventDefault();t.stopPropagation();return false}));this.resize_and_update_canvas(this.model.size)}_init_toolbar(){return d(this,void 0,void 0,(function*(){this.toolbar_view=yield this.create_child_view(this.model.get("toolbar"));this.figure.appendChild(this.toolbar_view.el);this._update_toolbar_position();this._update_toolbar_visible()}))}update_canvas(t=false){if(this.canvas.width===0||this.canvas.height===0){return}this.top_context.save();this.context.clearRect(0,0,this.canvas.width,this.canvas.height);if(t){this.context.drawImage(this.model.offscreen_canvas,0,0,this.canvas.width,this.canvas.height)}else{this.context.drawImage(this.model.offscreen_canvas,0,0)}this.top_context.clearRect(0,0,this.top_canvas.width,this.top_canvas.height);if(this.model.get("_rubberband_width")!==0&&this.model.get("_rubberband_height")!==0){this.top_context.strokeStyle="gray";this.top_context.lineWidth=1;this.top_context.shadowColor="black";this.top_context.shadowBlur=2;this.top_context.shadowOffsetX=1;this.top_context.shadowOffsetY=1;this.top_context.strokeRect(this.model.get("_rubberband_x"),this.model.get("_rubberband_y"),this.model.get("_rubberband_width"),this.model.get("_rubberband_height"))}if(this.model.get("resizable")){const t=this.top_context.createLinearGradient(this.top_canvas.width-this.resize_handle_size,this.top_canvas.height-this.resize_handle_size,this.top_canvas.width,this.top_canvas.height);t.addColorStop(0,"white");t.addColorStop(1,"black");this.top_context.fillStyle=t;this.top_context.strokeStyle="gray";this.top_context.globalAlpha=.3;this.top_context.beginPath();this.top_context.moveTo(this.top_canvas.width,this.top_canvas.height);this.top_context.lineTo(this.top_canvas.width,this.top_canvas.height-this.resize_handle_size);this.top_context.lineTo(this.top_canvas.width-this.resize_handle_size,this.top_canvas.height);this.top_context.closePath();this.top_context.fill();this.top_context.stroke()}this.top_context.restore()}_update_cursor(){this.top_canvas.style.cursor=this.model.get("_cursor")}_init_footer(){this.footer=document.createElement("div");this.footer.classList.add("jupyter-widgets","widget-label","jupyter-matplotlib-footer");this._update_footer_visible();this._update_message();this.figure.appendChild(this.footer)}_update_message(){this.footer.textContent=this.model.get("_message")}resize_and_update_canvas(t){this.canvas.setAttribute("width",`${t[0]*this.model.ratio}`);this.canvas.setAttribute("height",`${t[1]*this.model.ratio}`);this.canvas.style.width=t[0]+"px";this.canvas.style.height=t[1]+"px";this.top_canvas.setAttribute("width",String(t[0]));this.top_canvas.setAttribute("height",String(t[1]));this.canvas_div.style.width=t[0]+"px";this.canvas_div.style.height=t[1]+"px";this.update_canvas()}mouse_event(t){return e=>{const i=n(e,this.top_canvas);if(t==="scroll"){e["data"]="scroll";if(e.deltaY<0){e.step=1}else{e.step=-1}}if(t==="button_press"){if(i.x>=this.top_canvas.width-this.resize_handle_size&&i.y>=this.top_canvas.height-this.resize_handle_size&&this.model.get("resizable")){this.resizing=true;return}else{this.canvas.focus();this.canvas_div.focus()}}if(this.resizing){return}if(t==="motion_notify"){if(i.x>=this.top_canvas.width-this.resize_handle_size&&i.y>=this.top_canvas.height-this.resize_handle_size){this.top_canvas.style.cursor="nw-resize"}else{this.top_canvas.style.cursor=this.model.get("_cursor")}}const s=i.x*this.model.ratio;const a=i.y*this.model.ratio;this.model.send_message(t,{x:s,y:a,button:e.button,step:e.step,modifiers:h(e),guiEvent:o(e)})}}resize_event(t){if(this.resizing){const e=n(t,this.top_canvas);this.model.resize(e.x,e.y)}}stop_resize_event(){this.resizing=false}key_event(t){return e=>{e.stopPropagation();e.preventDefault();if(t==="key_press"){if(e.key===this._key){return}else{this._key=e.key}}if(t==="key_release"){this._key=null}let i="";if(e.ctrlKey&&e.key!=="Control"){i+="ctrl+"}else if(e.altKey&&e.key!=="Alt"){i+="alt+"}else if(e.shiftKey&&e.key!=="Shift"){i+="shift+"}i+="k"+e.key;this.model.send_message(t,{key:i,guiEvent:o(e)});return false}}remove(){window.removeEventListener("mousemove",this._resize_event);window.removeEventListener("mouseup",this._stop_resize_event)}}var u=i(93379);var p=i.n(u);var v=i(74289);var b={};b.insert="head";b.singleton=false;var m=p()(v.Z,b);const f=v.Z.locals||{};class g extends a.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToolbarModel",_view_name:"ToolbarView",_model_module:"jupyter-matplotlib",_view_module:"jupyter-matplotlib",_model_module_version:"^"+r.Y,_view_module_version:"^"+r.Y,toolitems:[],position:"left",button_style:"",_current_action:""})}}class y extends a.DOMWidgetView{constructor(){super(...arguments);this.visibility="fade-in-fade-out"}initialize(t){super.initialize(t);this.on("comm_live_update",this.update_disabled.bind(this))}render(){this.el.classList.add("jupyter-widgets","jupyter-matplotlib-toolbar","widget-container","widget-box");this.set_visibility("fade-in-fade-out");this.create_toolbar();this.model_events()}create_toolbar(){const t=this.model.get("toolitems");this.toolbar=document.createElement("div");this.toolbar.classList.add("widget-container","widget-box");this.el.appendChild(this.toolbar);this.buttons={};for(const e in t){const i=t[e][0];const s=t[e][1];const a=t[e][2];const n=t[e][3];if(!i){continue}const o=document.createElement("button");o.classList.add("jupyter-matplotlib-button","jupyter-widgets","jupyter-button");o.setAttribute("href","#");o.setAttribute("title",s);o.style.outline="none";o.addEventListener("click",this.toolbar_button_onclick(n));const l=document.createElement("i");l.classList.add("center","fa","fa-fw","fa-"+a);o.appendChild(l);this.buttons[n]=o;this.toolbar.appendChild(o)}this.set_position();this.set_buttons_style();this.update_disabled()}get disabled(){return!this.model.comm_live}update_disabled(){if(this.disabled){this.toolbar.style.display="none"}}set_position(){const t=this.model.get("position");if(t==="left"||t==="right"){this.el.classList.remove("widget-hbox");this.el.classList.add("widget-vbox");this.toolbar.classList.remove("widget-hbox");this.toolbar.classList.add("widget-vbox");this.el.style.top="3px";this.el.style.bottom="auto";if(t==="left"){this.el.style.left="3px";this.el.style.right="auto"}else{this.el.style.left="auto";this.el.style.right="3px"}}else{this.el.classList.add("widget-hbox");this.el.classList.remove("widget-vbox");this.toolbar.classList.add("widget-hbox");this.toolbar.classList.remove("widget-vbox");this.el.style.right="3px";this.el.style.left="auto";if(t==="top"){this.el.style.top="3px";this.el.style.bottom="auto"}else{this.el.style.top="auto";this.el.style.bottom="3px"}}}toolbar_button_onclick(t){return e=>{if(t==="pan"||t==="zoom"){if(this.model.get("_current_action")===t){this.model.set("_current_action","")}else{this.model.set("_current_action",t)}this.model.save_changes()}this.send({type:"toolbar_button",name:t})}}set_visibility(t){if(typeof t==="boolean"){t=t?"visible":"hidden"}this.visibility=t;if(t==="fade-in-fade-out"){this.el.classList.add("jupyter-matplotlib-toolbar-fadein-fadeout");this.el.style.visibility="hidden";this.el.style.opacity="0";return}this.el.classList.remove("jupyter-matplotlib-toolbar-fadein-fadeout");if(t==="visible"){this.el.style.visibility="visible";this.el.style.opacity="1";return}this.el.style.visibility="hidden";this.el.style.opacity="0"}fade_in(){if(this.visibility!=="fade-in-fade-out"){return}this.el.style.visibility="visible";this.el.style.opacity="1"}fade_out(){if(this.visibility!=="fade-in-fade-out"){return}this.el.style.visibility="hidden";this.el.style.opacity="0"}set_buttons_style(){const t={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};for(const e in this.buttons){const i=this.buttons[e];for(const e in t){i.classList.remove(t[e])}i.classList.remove("mod-active");const s=this.model.get("button_style");if(s!==""){i.classList.add(t[s])}if(e===this.model.get("_current_action")){i.classList.add("mod-active")}}}model_events(){this.model.on("change:position",this.set_position.bind(this));this.model.on_some_change(["button_style","_current_action"],this.set_buttons_style,this)}}}}]);
//# sourceMappingURL=5689.8fd8e510cdf6a93c5e9a.js.map?v=8fd8e510cdf6a93c5e9a